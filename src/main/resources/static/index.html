<!DOCTYPE html>
<html lang="en" ng-app="yagga">
<head>
    <meta charset="UTF-8">
    <title>yagga</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.28/angular.min.js" type="text/javascript"></script>
    <script src="yagga/js/grep.js" type="text/javascript"></script>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>
<body ng-controller="yaggaGrepCtrl">
<div style="width: 100%; background-color: #333">
    <h1 style="color: #eee;font-family: monospace">&nbsp;> YAGGA</h1>
</div>
<div id="searchSection">
    <table border="0" width="100%" cellspacing="0" cellpadding="5px">
        <tr>
            <td valign="top" width="35px" style="padding-left: 20px">
                <img src="yagga/images/yagga.png" width="60" alt="Yagga"/>
            </td>
            <td valign="top">
                <form ng-submit="grep()" class="form-inline">
                    <div class="form-group" style="vertical-align: top; padding-left: 2em;">
                        <label>Repository</label>
                        <br/>
                        <select class="form-control" name="repositories" size="6" ng-model="multipleSelect" multiple
                                ng-options="repository for repository in repositories | orderBy:'+'"
                                ng-change="deselectCheckbox()"></select>
                        <br/>
                        <div class="checkbox">
                            <input type="checkbox" ng-model="selected" ng-change="selectAll(selected)">
                            <span style="font-size: smaller; ">Select all</span>
                        </div>

                    </div>
                    <div class="form-group" style="vertical-align: top; padding-right: 3em; padding-left: 2em">
                        <label>Text to search for</label>
                        <br/>
                        <div class="input-group">
                            <input type="text" class="form-control" id="grepText" ng-model="wanted" ng-trim="false" size="40"/>
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" onclick="document.getElementById('grepText').value = ''">X</button>
                            </span>
                        </div>
                        <br/>
                        <div class="checkbox">
                            <input type="checkbox" ng-model="ignoreCase"/> <span style="font-size: smaller; ">Ignore case</span>
                        </div>
                        <br/>
                        <div class="text-right" style="alignment: right">
                            <br/>
                            <input type="submit" class="btn btn-default" style="width: 9em" value="Search" />
                        </div>
                    </div>

                </form>
            </td>
        </tr>
    </table>
</div>
<div style="width: 100%; color: #eee; background-color: #555; font-family: monospace; padding: 0.5em; margin-top: 1em;">
    RESULTS
</div>
<span style="margin-left: 2em">{{message}}</span>
<div style="margin-left: 1em; height: 10em">
        <div style="white-space: nowrap" ng-repeat="grep in greps track by $index"><code><span class="bg-primary">[{{grep.repository}}]</span> <a target="_blank" ng-href="preview.html#?repository={{grep.repository}}&file={{escape(grep.file)}}">{{grep.file}}</a>:<span style="font-weight: bold">{{grep.lineNumber}}</span> {{grep.matchedTextLine}}</code></div>
</div>
</body>
</html>
